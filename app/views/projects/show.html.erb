<p class="alert alert-success"><%= notice %></p>

<div class="card mb-4">
  <div class="card-header bg-primary text-white">
    <h5 class="mb-0">Project Details</h5>
  </div>
  <div class="card-body">
    <h3><%= @project.name %></h3>
    <p><%= @project.description %></p>

    <!-- Show project creator details -->
    <p>Created by: 
      <% if @project.user.present? %>
        <%= @project.user.first_name %> <%= @project.user.last_name %>
      <% else %>
        Unknown User
      <% end %>
    </p>

    <!-- Display Attachments -->
    <h4>Attachments:</h4>
    <% @project.attachments.each do |attachment| %>
      <div class="attachment">
        <!-- Link to the attachment show page -->
        <%= link_to "View #{attachment.filename.to_s}", show_attachment_project_path(@project, attachment_id: attachment.id), class: "btn btn-link" %>
      </div>

      <!-- Provide an option to delete attachment (only for project owner or admin) -->
      <% if current_user == @project.user || current_user.admin? %>
        <%= link_to "Remove", destroy_attachment_project_path(@project, attachment_id: attachment.id), method: :delete, data: { confirm: "Are you sure you want to remove this attachment?" }, class: "btn btn-danger btn-sm" %>
      
        <% end %>
    <% end %>
  </div>
</div>

<div class="d-flex justify-content-between mt-3">
  <% if current_user == @project.user || current_user.admin? %>
    <%= link_to "Edit this project", edit_project_path(@project), class: "btn btn-warning" %>
    <%= button_to "Destroy this project", @project, method: :delete, class: "btn btn-danger", data: { confirm: "Are you sure?" } %>
  <% end %>

  <%= link_to "Back to projects", projects_path, class: "btn btn-secondary" %>
</div>
